<!DOCTYPE html>
<html lang="en">

<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1">
  <title>Admin Dashboard</title>

  <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.3/dist/css/bootstrap.min.css" rel="stylesheet">

  <style>
    body {
      background: #f4f6f9;
      font-family: Segoe UI;
      transition: .3s
    }

    .sidebar {
      height: 100vh;
      background: #1f2d3d;
      color: #fff;
      position: fixed;
      width: 230px
    }

    .sidebar a {
      color: #cfd8dc;
      text-decoration: none;
      display: block;
      padding: 12px 20px
    }

    .sidebar a:hover {
      background: #2f4050;
      color: #fff
    }

    .main {
      margin-left: 230px;
      padding: 25px
    }

    .card {
      border: none;
      border-radius: 12px
    }

    .card {
      transition: 0.2s ease;
    }

    .card:hover {
      transform: translateY(-4px);
    }

    .dark {
      background: #121212;
      color: #fff
    }

    .dark .card {
      background: #1e1e1e;
      color: #fff
    }

    .dark .sidebar {
      background: #000
    }

    .feed-box {
      max-height: 260px;
      overflow-y: auto
    }

    .profile {
      cursor: pointer
    }
  </style>
</head>

<body>
  <div class="sidebar p-3">
    <h4 class="text-center mb-4">Admin</h4>
    <a href="#">Dashboard</a>
    <a href="#">Users</a>
    <a href="#">Reports</a>
    <button onclick="toggleTheme()" class="btn btn-light w-100 mt-3">Toggle Theme</button>
  </div>
  <div class="main">
    <div class="d-flex justify-content-between align-items-center mb-4">
      <h2>Dashboard</h2>

      <div>
        <button class="btn btn-outline-primary me-2" onclick="notify('Notification sent')">
          Notify
        </button>

        <span class="profile fw-bold" onclick="toggleProfile()">
          Admin 
        </span>
      </div>
    </div>
    <div id="profileMenu" class="card p-3 mb-4" style="display:none;width:220px">
      <button class="btn btn-sm btn-outline-secondary mb-2" onclick="logActivity('Profile viewed')">Profile</button>
      <button class="btn btn-sm btn-outline-secondary mb-2" onclick="logActivity('Settings opened')">Settings</button>
      <button class="btn btn-sm btn-danger" onclick="logout()">Logout</button>
    </div>
    <div class="row g-4 mb-4">
      <div class="col-md-4">
        <div class="card p-3">
          <h6>Revenue</h6>
          <h3 id="rev">$0</h3>
        </div>
      </div>
      <div class="col-md-4">
        <div class="card p-3">
          <h6>Orders</h6>
          <h3 id="ord">0</h3>
        </div>
      </div>
      <div class="col-md-4">
        <div class="card p-3">
          <h6>Users</h6>
          <h3 id="usr">0</h3>
        </div>
      </div>
    </div>
    <div class="mb-4">
      <button class="btn btn-primary me-2" onclick="addUser()">Add User</button>
      <button class="btn btn-success me-2" onclick="makeOrder()">New Order</button>
      <button class="btn btn-warning me-2" onclick="addRevenue()">Add Revenue</button>
      <button class="btn btn-danger me-2" onclick="exportData()">Export</button>
    </div>
    <input class="form-control mb-3" placeholder="Search user..." onkeyup="searchUser(this.value)">
    <div class="card p-3 mb-4">
      <table class="table">
        <thead>
          <tr>
            <th>Name</th>
            <th>Action</th>
          </tr>
        </thead>
        <tbody id="userTable"></tbody>
      </table>
      <div class="d-flex justify-content-between">
        <button class="btn btn-sm btn-outline-secondary" onclick="prevPage()">Prev</button>
        <span id="pageInfo"></span>
        <button class="btn btn-sm btn-outline-secondary" onclick="nextPage()">Next</button>
      </div>
    </div>
    <div class="card">
      <div class="card-header fw-bold">Live Activity</div>
      <div class="card-body p-0 feed-box">
        <ul id="feed" class="list-group list-group-flush"></ul>
      </div>
    </div>
  </div>
  <script>

    let revenue = 0, orders = 0, users = [];
    let page = 1, perPage = 5;

    function logActivity(msg) {
      const feed = document.getElementById("feed")
      const li = document.createElement("li")
      li.className = "list-group-item"
      li.innerHTML = msg + " <small class='text-muted float-end'>" + new Date().toLocaleTimeString() + "</small>"
      feed.prepend(li)
      if (feed.children.length > 12) feed.removeChild(feed.lastChild)
    }

    function notify(msg) {
      alert(msg)
      logActivity("Notification: " + msg)
    }

    function toggleTheme() {
      document.body.classList.toggle("dark")
      logActivity("Theme toggled")
    }

    function toggleProfile() {
      const m = document.getElementById("profileMenu")
      m.style.display = m.style.display === "none" ? "block" : "none"
    }

    function logout() {
      logActivity("Logged out")
      alert("Authentication simulation: Logged out")
    }

    function addUser() {
      const name = prompt("User name?")
      if (!name) return
      users.push(name)
      document.getElementById("usr").innerText = users.length
      logActivity(name + " added")
      renderUsers()
    }

    function editUser(i) {
      const name = prompt("Edit name", users[i])
      if (name) { users[i] = name; renderUsers(); logActivity("User edited") }
    }

    function deleteUser(i) {
      logActivity(users[i] + " removed")
      users.splice(i, 1)
      document.getElementById("usr").innerText = users.length
      renderUsers()
    }

    function renderUsers() {
      const table = document.getElementById("userTable")
      table.innerHTML = ""
      const start = (page - 1) * perPage
      const slice = users.slice(start, start + perPage)

      slice.forEach((u, i) => {
        const row = document.createElement("tr")
        row.innerHTML = `
      <td>${u}</td>
      <td>
        <button class="btn btn-sm btn-warning me-1" onclick="editUser(${start + i})"> Edit</button>
        <button class="btn btn-sm btn-danger" onclick="deleteUser(${start + i})"> Delete</button>
      </td>`
        table.appendChild(row)
      })

      document.getElementById("pageInfo").innerText = "Page " + page
    }

    function nextPage() {
      if (page * perPage < users.length) { page++; renderUsers() }
    }

    function prevPage() {
      if (page > 1) { page--; renderUsers() }
    }

    function searchUser(q) {
      const rows = document.querySelectorAll("#userTable tr")
      rows.forEach(r => {
        r.style.display = r.innerText.toLowerCase().includes(q.toLowerCase()) ? "" : "none"
      })
    }

    function makeOrder() {
      orders++
      document.getElementById("ord").innerText = orders
      logActivity("Order placed")
    }

    function addRevenue() {
      revenue += 500
      document.getElementById("rev").innerText = "$" + revenue
      logActivity("Revenue increased")
    }

    function exportData() {
      const data = "Users: " + users.join(", ")
      const blob = new Blob([data])
      const a = document.createElement("a")
      a.href = URL.createObjectURL(blob)
      a.download = "data.txt"
      a.click()
      logActivity("Data exported")
    }

    renderUsers()

  </script>

</body>

</html>